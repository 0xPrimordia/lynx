const{ethers}=require("hardhat");const fs=require("fs");async function main(){const info=JSON.parse(fs.readFileSync("../deployment-info.json"));console.log("Using controller:",info.controllerEvm);const controller=await ethers.getContractFactory("IndexTokenController").then(f=>f.attach(info.controllerEvm));console.log("Calculating deposits for 100 tokens...");try{const deposits=await controller.calculateRequiredDeposits(100);console.log("Required deposits:",deposits[0].length);for(let i=0;i<deposits[0].length;i++){console.log(`Token ${i+1}: ${deposits[0][i]} Amount: ${deposits[1][i].toString()}`)}}catch(e){console.log("Error calculating:",e);}}main().catch(console.error);
